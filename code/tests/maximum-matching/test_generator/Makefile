# Variables
CXX := g++
CXXFLAGS := -Wall -Wextra -std=c++20
TARGET := graph-generator 
SRC := graph-generator.cpp
INPUT_SRC := ../input

GRAPH_SIZE ?= 10
MATCHING_NUMBER ?= 5

# Rules
all: $(TARGET)

.PHONY: $(TARGET)
$(TARGET): $(SRC)
	$(CXX) $(CXXFLAGS) -o $(TARGET) $(SRC)

run: $(OUT)
	./$(TARGET) $(GRAPH_SIZE) 0.10 $(MATCHING_NUMBER) > $(INPUT_SRC)/$(GRAPH_SIZE)-$(MATCHING_NUMBER)random0.in
	./$(TARGET) $(GRAPH_SIZE) 0.20 $(MATCHING_NUMBER) > $(INPUT_SRC)/$(GRAPH_SIZE)-$(MATCHING_NUMBER)random1.in
	./$(TARGET) $(GRAPH_SIZE) 0.25 $(MATCHING_NUMBER) > $(INPUT_SRC)/$(GRAPH_SIZE)-$(MATCHING_NUMBER)random2.in
	./$(TARGET) $(GRAPH_SIZE) 0.50 $(MATCHING_NUMBER) > $(INPUT_SRC)/$(GRAPH_SIZE)-$(MATCHING_NUMBER)random3.in
	./$(TARGET) $(GRAPH_SIZE) 0.50 $(MATCHING_NUMBER) > $(INPUT_SRC)/$(GRAPH_SIZE)-$(MATCHING_NUMBER)random4.in
	./$(TARGET) $(GRAPH_SIZE) 0.50 $(MATCHING_NUMBER) > $(INPUT_SRC)/$(GRAPH_SIZE)-$(MATCHING_NUMBER)random5.in
	./$(TARGET) $(GRAPH_SIZE) 0.75 $(MATCHING_NUMBER) > $(INPUT_SRC)/$(GRAPH_SIZE)-$(MATCHING_NUMBER)random6.in
	./$(TARGET) $(GRAPH_SIZE) 0.75 $(MATCHING_NUMBER) > $(INPUT_SRC)/$(GRAPH_SIZE)-$(MATCHING_NUMBER)random7.in
	./$(TARGET) $(GRAPH_SIZE) 0.75 $(MATCHING_NUMBER) > $(INPUT_SRC)/$(GRAPH_SIZE)-$(MATCHING_NUMBER)random8.in
	./$(TARGET) $(GRAPH_SIZE) 1.00 $(MATCHING_NUMBER) > $(INPUT_SRC)/$(GRAPH_SIZE)-$(MATCHING_NUMBER)random9.in

clean:
	rm -f $(TARGET)

# Phony targets
.PHONY: all clean
